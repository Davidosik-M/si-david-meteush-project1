<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./styles/style.css" />
    <link rel="stylesheet" href="./styles/header.css" />
    <link rel="stylesheet" href="./styles/calculator.css" />
    <link rel="stylesheet" href="./styles/results.css" />
    <link rel="stylesheet" href="./styles/footer.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400..700;1,400..700&family=Bebas+Neue&family=Bitcount+Grid+Double:wght@100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Libertinus+Keyboard&family=Monoton&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Oswald:wght@200..700&family=Roboto:ital,wght@0,100..900;1,100..900&family=Special+Gothic:wght@400..700&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400..700;1,400..700&family=BBH+Sans+Bartle&family=Bebas+Neue&family=Bitcount+Grid+Double:wght@100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Libertinus+Keyboard&family=Monoton&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Oswald:wght@200..700&family=Roboto:ital,wght@0,100..900;1,100..900&family=Special+Gothic:wght@400..700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <h3>KBTW</h3>
    </header>
    <div class="content">
      <h1>
        Kalkulator dziennego zapotrzebowania kalorii, białka, tłuszczów i
        węglowodanów
      </h1>
    </div>
    <div class="description">
      <img src="./assets/picture3.webp" alt="strongguy" />
      <span
        >Sportowcy wiedzą, że dobra dieta to podstawa sukcesu. Nasz kalkulator
        oblicza dokładne zapotrzebowanie na kalorie, białko, tłuszcze i
        węglowodany — dopasowane indywidualnie do Ciebie, byś czuł się zdrowo i
        pełen energii każdego dnia!</span
      >
    </div>

    <div class="main">
      <main>
        <section class="calclator">
          <div>
            <h2>Poznaj swoją dzienną normę</h2>
          </div>
          <form action="">
            <ul>
              <li>
                <span>Wiek</span>
                <input
                  class="input"
                  id="Wiek"
                  type="text"
                  placeholder="28"
                  required
                />
              </li>
              <li>
                <span>Wzrost</span>
                <input
                  class="input"
                  id="Wzrost"
                  type="text"
                  placeholder="170cm"
                  required
                />
              </li>
              <li>
                <span>Waga</span>
                <input
                  class="input"
                  id="Waga"
                  type="text"
                  placeholder="65kg"
                  required
                />
              </li>
              <li>
                <span>Płeć</span>
                <select name="Płeć" id="Płeć" class="input" required>
                  <option value="męzczyzna">Męzczyzna</option>
                  <option value="kobieta">Kobieta</option>
                </select>
              </li>
              <li>
                <span>Tryb Życia</span>
                <select
                  name="Tryb życia"
                  id="Tryb życia"
                  class="input"
                  required
                >
                  <option value="">Siedzący i mało aktywny</option>
                  <option value="">
                    Lekka aktywność (aktywność fizyczna 1–3 razy w tygodniu)
                  </option>
                  <option value="">
                    Średnia aktywność (aktywność fizyczna 3–5 razy w tygodniu)
                  </option>
                  <option value="">
                    Wysoka aktywność (aktywność fizyczna 6–7 razy w tygodniu)
                  </option>
                  <option value="">
                    Bardzo wysoka aktywność (stałe, intensywne obciążenie
                    fizyczne)
                  </option>
                </select>
              </li>
            </ul>
            <div class="button">
              <button type="button" id="checkButton">Check</button>
            </div>
          </form>
        </section>
        <section class="results" id="results" style="display: none"></section>
      </main>
    </div>
    <footer>
      <div class="information">
        <strong>Dane kontaktowe</strong>
        <span>David Meteush</span>
        <span>+48 574 202 620</span>
        <span>david.1230251@gmail.com</span>
      </div>
      <div class="regulations">
        <span>© kbtw.pl 2025</span>
        <a href="">Polityka prywatności i regulamin serwisu</a>
      </div>
    </footer>
    <script>
      function calculateKBTW(Wiek, Wzrost, Waga, Plec, TrybZycia) {
        let BMR;
        if (Plec === "męzczyzna")
          BMR = 10 * Waga + 6.25 * Wzrost - 5 * Wiek + 5;
        else if (Plec === "kobieta")
          BMR = 10 * Waga + 6.25 * Wzrost - 5 * Wiek - 161;
        else throw new Error("Płeć musi być 'męzczyzna' lub 'kobieta'");
        const trybZycia = {
          sedentary: 1.2,
          light: 1.375,
          moderate: 1.55,
          active: 1.725,
          very_active: 1.9,
        };
        const factor = trybZycia[TrybZycia];
        if (!factor) throw new Error("Nieprawidłowy poziom aktywności");
        const TDEE = BMR * factor;
        const proteinGrams = 2 * Waga;
        const fatGrams = (TDEE * 0.25) / 9;
        const carbGrams = (TDEE - (proteinGrams * 4 + fatGrams * 9)) / 4;
        return {
          BMR: Math.round(BMR),
          TDEE: Math.round(TDEE),
          protein: Math.round(proteinGrams),
          fat: Math.round(fatGrams),
          carbs: Math.round(carbGrams),
        };
      }

      const button = document.getElementById("checkButton");
      const resultsSection = document.getElementById("results");

      button.addEventListener("click", function () {
        const Wiek = parseInt(document.getElementById("Wiek").value);
        const Wzrost = parseFloat(document.getElementById("Wzrost").value);
        const Waga = parseFloat(document.getElementById("Waga").value);
        const Plec = document.getElementById("Płeć").value;
        const TrybZyciaSelect = document.getElementById("Tryb życia");
        let TrybZycia = TrybZyciaSelect.value;
        if (TrybZycia === "") TrybZycia = "sedentary";
        const result = calculateKBTW(Wiek, Wzrost, Waga, Plec, TrybZycia);
        resultsSection.style.display = "block";
        resultsSection.innerHTML = `
        <h2>Twoje wyniki</h2>
        <table border="1" cellpadding="8">
            <tr><th>Calorie</th><td>${result.TDEE}</td></tr>
            <tr><th>Białko</th><td>${result.protein} g</td></tr>
            <tr><th>Tłuszcze</th><td>${result.fat} g</td></tr>
            <tr><th>Węglowodany</th><td>${result.carbs} g</td></tr>
        </table>
    `;
      });
    </script>
  </body>
</html>
